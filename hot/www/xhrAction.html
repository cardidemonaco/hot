<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
	<title>Dynatrace Hybrid App! (our Mobile ADK combined with our JavaScript Agent)</title>
	<link href="styles.css" rel="stylesheet" type="text/css" media="screen" />
	
	<!-- spaceTravel with local JS Agent and cors
	<script type="text/javascript" src="javascript/dtagent630_23aprx_1305.js" data-dtconfig="tp=500,50,0|cors=1|bandwidth=300|reportUrl=http://spacetravel.clients.nasa.cpwr.corp/dynaTraceMonitor"></script>
	 -->
	
	<!-- spaceTravel with local JS Agent and no cors 
	<script type="text/javascript" src="javascript/dtagent630_23aprx_1305.js" data-dtconfig="tp=500,50,0|bandwidth=300|reportUrl=http://spacetravel.clients.nasa.cpwr.corp/dynaTraceMonitor"></script>
	-->
	
	<!-- int-us-support with local JS Agent and cors (alternate Web Server: http://prod-win.clients.nasa.cpwr.corp/dynaTraceMonitor) -->
	<script type="text/javascript" src="javascript/dtagent630_23aprx_1305.js" data-dtconfig="tp=500,50,0|cors=1|bandwidth=300|reportUrl=http://prod-win.clients.nasa.cpwr.corp/dynaTraceMonitor"></script>
	
	<!-- int-us-support with local JS Agent and no cors
	<script type="text/javascript" src="javascript/dtagent630_23aprx_1305.js" data-dtconfig="tp=500,50,0|bandwidth=300|reportUrl=https://int-us-support.compuwareapmaas.com/dynaTraceMonitor"></script>
	 -->
	 
	<!-- <script src='http://cd-dt-0602-win.clients.nasa.cpwr.corp/dtagent_bootstrap.js?app=Dynatrace+Hybrid+App'></script>
	
	
	-->
	
	<script type="text/javascript" src="javascript/dtagentApi.js"></script>
	
	<script>
	function clickHere() {
	
		var xhrAction = dynaTrace.enterXhrAction("XHR stuff");
	
		setTimeout(function (){
			var xhr5 = new XMLHttpRequest();
			xhr5.onreadystatechange = function(){ 
					if (xhr5.readyState == 4){
						dynaTrace.leaveXhrAction(xhrAction);
						alert("Louis gave me the right code.");
					}
			};
			//xhr5.open("GET","http://cd-java.clients.nasa.cpwr.corp:8080/ajax/ajax.jsp",false);
			//xhr5.open("GET","http://prod-win.clients.nasa.cpwr.corp/Default.aspx",false);
			xhr5.open("GET","http://prod-win.clients.nasa.cpwr.corp/img/moon.jpg",false);
			
			xhr5.send(null);
		}, 1000);
	}
	
	function clickHere2() {
	
		//var xhrAction = dynaTrace.enterXhrAction("XHR stuff2");
	
		setTimeout(function (){
			var xhr5 = new XMLHttpRequest();
			xhr5.onreadystatechange = function(){ 
					if (xhr5.readyState == 4){
						//dynaTrace.leaveXhrAction(xhrAction);
						alert("Louis gave me the right code2.");
					}
			};
			//xhr5.open("GET","http://cd-java.clients.nasa.cpwr.corp:8080/ajax/ajax.jsp",false);
			//xhr5.open("GET","http://prod-win.clients.nasa.cpwr.corp/Default.aspx",false);
			xhr5.open("GET","http://prod-win.clients.nasa.cpwr.corp/img/moon.jpg",false);
			

			xhr5.send(null);
		}, 1000);
	}
	</script>
	
</head>

<body>
	<div id="menu_bg">
		<div id="menu">
			<h1>Dynatrace Hybrid App</h1>
			
			<ol>
			<!-- GET THIS WORKING: #include file="menu.txt" -->
				<li><a href="index.html">Home Page (index.html)</a></li><br />
				<li><a href="CompuwareUEM.html">JavaScript Bridge implementation (CompuwareUEM.html)</a></li><br />
				<li><a href="xhr-requests.html">XHR requests to a JSP and an ASPX (xhr-requests.html)</a></li><br />
				<li><a href="script-with-no-http-or-https.html">script tag has no "http:" (script-with-no-http-or-https.html)</a></li><br />
				<li><a href="endVisit.html">End this Visit using endVisit() (endVisit.html)</a></li><br />
				<li><a href="noCors.html">No cors, but same as index.html (noCors.html)</a></li><br />
				<li><a href="js-bootstrap.html">JavaScript Bootstrap Agent usage (js-bootstrap.html)</a></li><br />
				<li><a href="xhrAction.html">Create XHR Action (xhrAction.html)</a></li><br />
			</ol>
		</div>
	</div>

	<!-- This is where the Map actually shows (for some reason cannot be in the <form> tag) -->
	<!-- <div id="map_canvas"> </div> -->
	<br/><br/><br/><br/><br/><br/><br/><br/>
	<div>
	
	<p><button onclick="clickHere();">XHR Action stuff</button><p>
	<p><button onclick="clickHere2();">Removed XHR Action stuff</button><p>
	
	</div>
</body>
</html>